<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Learn how to combine multiple transfers and contract interactions together via a Solidity interface with Tanssi's Batch Precompile for your EVM network."><link href=https://docs.tanssi.network/builders/toolkit/ethereum-api/precompiles/batch/ rel=canonical><link href=../ rel=prev><link href=../call-permit/ rel=next><link rel=icon href=/assets/images/tanssi-favicon.webp><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><meta name=keywords content="solidity, ethereum, batch, transaction, moonbeam, precompiled, contracts"><meta name=google-site-verification content=Owdrdc86b73FM35ZvpM4fiP-d5RcXz2uD9qSIsdXYKU><title>Batch Precompile | Tanssi Docs</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.50c56a3b.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Epilogue:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link rel=stylesheet href=/assets/stylesheets/tanssi.min.css><link rel=stylesheet href=/assets/stylesheets/termynal.min.css><link rel=stylesheet href=/assets/stylesheets/timeline-neoteroi.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-BT4KVVBH8F"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-BT4KVVBH8F",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-BT4KVVBH8F",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#interacting-with-the-batch-precompile class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=logo-container> <a href=https://docs.tanssi.network/ title="Tanssi Docs" class="md-header__button md-logo" aria-label="Tanssi Docs" data-md-component=logo> <img src=/assets/images/tanssi-logo-white.webp alt=logo> </a> </div> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../../ >Builders</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../../build/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/build.webp alt="Build Your Network" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Build Your Network</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../deploy/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/deploy.webp alt="Deploy Your Network" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Deploy Your Network</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../manage/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/manage.webp alt="Manage Your Network" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Manage Your Network</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/toolkit.webp alt="Network Toolkit" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Network Toolkit</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../account-management/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/account-management.webp alt="Account Management" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Account Management</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../tanssi-network/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/tanssi-network.webp alt="Network Essentials" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Network Essentials</span> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../../../node-operators/ >Node Operators</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../../../node-operators/network-node/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/network-node.webp alt="Run a Network Node" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Run a Network Node</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../../node-operators/sequencers/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/sequencers.webp alt=Sequencers loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Sequencers</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../../node-operators/operators/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/operators.webp alt=Operators loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Operators</span> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=../../../../../learn/ >Learn</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=../../../../../learn/tanssi/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/tanssi.webp alt="Introduction to Tanssi" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Introduction to Tanssi</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../../learn/framework/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/framework.webp alt="Network Development Framework" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Network Development Framework</span> </div> </a> </li> <li class=md-tab__item> <a href=../../../../../learn/decentralized-networks/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/decentralized-networks.webp alt="Tanssi-Powered Networks" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Tanssi-Powered Networks</span> </div> </a> </li> </ul> </li> <li class=md-tabs__item--custom tabindex=0> <span class=md-tabs__link> <a href=https://www.tanssi.network/ >About</a> </span> <ul class=md-tab__list> <li class=md-tab__item> <a href=https://www.tanssi.network/ > <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/about-tanssi.webp alt="About Tanssi" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>About Tanssi</span> </div> </a> </li> <li class=md-tab__item> <a href=https://apps.tanssi.network/dancebox> <div class=icon-col> <img class=dropdown-icon src=/assets/images/dropdown-icons/tanssi-testnet.webp alt="Tanssi TestNet" loading=lazy> </div> <div class=text-col> <span class=dropdown-title>Tanssi TestNet</span> </div> </a> </li> </ul> </li> </ul> </div> </nav> <div class=md-header__buttons> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Tanssi Docs" class="md-nav__button md-logo" aria-label="Tanssi Docs" data-md-component=logo> <img src=/assets/images/tanssi-logo-white.webp alt=logo> </a> Tanssi Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../../../ >Builders</a> <label for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Builders </label> <ul class="md-nav__list builders-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../build/ >Build Your Network</a> <label for=__nav_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Build Your Network </label> <ul class="md-nav__list builders-build-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../build/templates/ >Network Templates</a> <label for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> Network Templates </label> <ul class="md-nav__list builders-build-templates-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../build/templates/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../build/templates/substrate/ class=md-nav__link> Substrate </a> </li> <li class=md-nav__item> <a href=../../../../build/templates/evm/ class=md-nav__link> EVM </a> </li> <li class=md-nav__item> <a href=../../../../build/templates/custom-runtime/ class=md-nav__link> Custom Runtime </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../build/customize/ >Customize Your Network</a> <label for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> Customize Your Network </label> <ul class="md-nav__list builders-build-customize-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../build/customize/prerequisites/ class=md-nav__link> Prerequisites </a> </li> <li class=md-nav__item> <a href=../../../../build/customize/adding-built-in-module/ class=md-nav__link> Adding a Built-in Module </a> </li> <li class=md-nav__item> <a href=../../../../build/customize/adding-custom-made-module/ class=md-nav__link> Adding a Custom-Made Module </a> </li> <li class=md-nav__item> <a href=../../../../build/customize/adding-external-module/ class=md-nav__link> Adding an External Module </a> </li> <li class=md-nav__item> <a href=../../../../build/customize/customizing-chain-specs/ class=md-nav__link> Chain Specifications </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../deploy/ >Deploy Your Network</a> <label for=__nav_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Deploy Your Network </label> <ul class="md-nav__list builders-deploy-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../deploy/dapp/ class=md-nav__link> Using the Tanssi DApp </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../manage/ >Manage Your Network</a> <label for=__nav_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Manage Your Network </label> <ul class="md-nav__list builders-manage-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../manage/dapp/ >Using the Tanssi dApp</a> <label for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> Using the Tanssi dApp </label> <ul class="md-nav__list builders-manage-dapp-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../manage/dapp/services-payment/ class=md-nav__link> Block Production Services Payment </a> </li> <li class=md-nav__item> <a href=../../../../manage/dapp/manage-tokens/ class=md-nav__link> Manage Tokens </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../manage/developer-portal/ >Using the Developer Portal</a> <label for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_3> <span class="md-nav__icon md-icon"></span> Using the Developer Portal </label> <ul class="md-nav__list builders-manage-developer-portal-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../manage/developer-portal/sudo/ class=md-nav__link> Manage the Sudo Account </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/upgrade/ class=md-nav__link> Dispatch Runtime Upgrades </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/maintenance/ class=md-nav__link> Enable Maintenance Mode </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/pause-transactions/ class=md-nav__link> Pause Transactions </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/impersonate/ class=md-nav__link> Impersonate Accounts </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/minting/ class=md-nav__link> Mint Tokens </a> </li> <li class=md-nav__item> <a href=../../../../manage/developer-portal/smart-contracts-creation-filter/ class=md-nav__link> Smart EVM - Whitelist Contract Deployments </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../../ >Network Toolkit</a> <label for=__nav_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=true> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Network Toolkit </label> <ul class="md-nav__list builders-toolkit-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2 checked> <div class="md-nav__link md-nav__link--index "> <a href=../../ >Ethereum Tools</a> <label for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_5_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_5_2> <span class="md-nav__icon md-icon"></span> Ethereum Tools </label> <ul class="md-nav__list builders-toolkit-ethereum-api-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../wallets/ >Wallets</a> <label for=__nav_2_5_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_2> <span class="md-nav__icon md-icon"></span> Wallets </label> <ul class="md-nav__list builders-toolkit-ethereum-api-wallets-" data-md-scrollfix> <li class=md-nav__item> <a href=../../wallets/metamask/ class=md-nav__link> MetaMask </a> </li> <li class=md-nav__item> <a href=../../wallets/talisman/ class=md-nav__link> Talisman </a> </li> <li class=md-nav__item> <a href=../../wallets/subwallet/ class=md-nav__link> SubWallet </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../dev-env/ >Dev Environments</a> <label for=__nav_2_5_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_3> <span class="md-nav__icon md-icon"></span> Dev Environments </label> <ul class="md-nav__list builders-toolkit-ethereum-api-dev-env-" data-md-scrollfix> <li class=md-nav__item> <a href=../../dev-env/remix/ class=md-nav__link> Remix </a> </li> <li class=md-nav__item> <a href=../../dev-env/hardhat/ class=md-nav__link> Hardhat </a> </li> <li class=md-nav__item> <a href=../../dev-env/foundry/ class=md-nav__link> Foundry </a> </li> <li class=md-nav__item> <a href=../../dev-env/thirdweb/ class=md-nav__link> thirdweb </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../libraries/ >Libraries</a> <label for=__nav_2_5_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_2_4> <span class="md-nav__icon md-icon"></span> Libraries </label> <ul class="md-nav__list builders-toolkit-ethereum-api-libraries-" data-md-scrollfix> <li class=md-nav__item> <a href=../../libraries/ethersjs/ class=md-nav__link> Ethers.js </a> </li> <li class=md-nav__item> <a href=../../libraries/viem/ class=md-nav__link> viem </a> </li> <li class=md-nav__item> <a href=../../libraries/web3js/ class=md-nav__link> Web3.js </a> </li> <li class=md-nav__item> <a href=../../libraries/web3py/ class=md-nav__link> Web3.py </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_2_5 checked> <div class="md-nav__link md-nav__link--index "> <a href=../ >Precompiles</a> <label for=__nav_2_5_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_2_5_label aria-expanded=true> <label class=md-nav__title for=__nav_2_5_2_5> <span class="md-nav__icon md-icon"></span> Precompiles </label> <ul class="md-nav__list builders-toolkit-ethereum-api-precompiles-" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Batch <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Batch </a> <nav class="md-nav md-nav--secondary" aria-label=Sections> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Sections </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#the-batch-interface class=md-nav__link> <span class=md-ellipsis> The Batch Solidity Interface </span> </a> </li> <li class=md-nav__item> <a href=#interact-with-the-solidity-interface class=md-nav__link> <span class=md-ellipsis> Interact with the Solidity Interface </span> </a> <nav class=md-nav aria-label="Interact with the Solidity Interface"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#checking-prerequisites class=md-nav__link> <span class=md-ellipsis> Checking Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#example-contract class=md-nav__link> <span class=md-ellipsis> Example Contract </span> </a> </li> <li class=md-nav__item> <a href=#remix-set-up class=md-nav__link> <span class=md-ellipsis> Remix Set Up </span> </a> </li> <li class=md-nav__item> <a href=#compile-the-contract class=md-nav__link> <span class=md-ellipsis> Compile the Contract </span> </a> </li> <li class=md-nav__item> <a href=#access-the-precompile class=md-nav__link> <span class=md-ellipsis> Access the Precompile </span> </a> </li> <li class=md-nav__item> <a href=#deploy-example-contract class=md-nav__link> <span class=md-ellipsis> Deploy Example Contract </span> </a> </li> <li class=md-nav__item> <a href=#send-native-currency-via-precompile class=md-nav__link> <span class=md-ellipsis> Send Native Currency via Precompile </span> </a> </li> <li class=md-nav__item> <a href=#find-a-contract-interactions-call-data class=md-nav__link> <span class=md-ellipsis> Find a Contract Interaction's Call Data </span> </a> </li> <li class=md-nav__item> <a href=#function-interaction-via-precompile class=md-nav__link> <span class=md-ellipsis> Function Interaction via Precompile </span> </a> </li> <li class=md-nav__item> <a href=#combining-subtransactions class=md-nav__link> <span class=md-ellipsis> Combining Subtransactions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ethereum-development-libraries class=md-nav__link> <span class=md-ellipsis> Ethereum Development Libraries </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../call-permit/ class=md-nav__link> Call Permit </a> </li> <li class=md-nav__item> <a href=../erc20/ class=md-nav__link> Native Token ERC-20 </a> </li> <li class=md-nav__item> <a href=../proxy/ class=md-nav__link> Proxy </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../rpc/ class=md-nav__link> JSON-RPC Methods </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../substrate-api/ >Substrate Tools</a> <label for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_3> <span class="md-nav__icon md-icon"></span> Substrate Tools </label> <ul class="md-nav__list builders-toolkit-substrate-api-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../substrate-api/dev-env/ >Dev Environments</a> <label for=__nav_2_5_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_3_2> <span class="md-nav__icon md-icon"></span> Dev Environments </label> <ul class="md-nav__list builders-toolkit-substrate-api-dev-env-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../substrate-api/dev-env/chopsticks/ class=md-nav__link> Chopsticks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../substrate-api/libraries/ >Libraries</a> <label for=__nav_2_5_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_3_3> <span class="md-nav__icon md-icon"></span> Libraries </label> <ul class="md-nav__list builders-toolkit-substrate-api-libraries-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../substrate-api/libraries/polkadot-js-api/ class=md-nav__link> Polkadot.js API </a> </li> <li class=md-nav__item> <a href=../../../substrate-api/libraries/sidecar-api/ class=md-nav__link> Sidecar API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../substrate-api/wallets/ >Wallets</a> <label for=__nav_2_5_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_3_4> <span class="md-nav__icon md-icon"></span> Wallets </label> <ul class="md-nav__list builders-toolkit-substrate-api-wallets-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../substrate-api/wallets/talisman/ class=md-nav__link> Talisman </a> </li> <li class=md-nav__item> <a href=../../../substrate-api/wallets/subwallet/ class=md-nav__link> SubWallet </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../integrations/ >Integrations</a> <label for=__nav_2_5_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_4> <span class="md-nav__icon md-icon"></span> Integrations </label> <ul class="md-nav__list builders-toolkit-integrations-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../integrations/indexers/ >Indexers</a> <label for=__nav_2_5_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_4_2> <span class="md-nav__icon md-icon"></span> Indexers </label> <ul class="md-nav__list builders-toolkit-integrations-indexers-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_4_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../integrations/indexers/sqd/ >SQD</a> <label for=__nav_2_5_4_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_5_4_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_4_2_2> <span class="md-nav__icon md-icon"></span> SQD </label> <ul class="md-nav__list builders-toolkit-integrations-indexers-sqd-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../integrations/indexers/sqd/quick-start/ class=md-nav__link> Quick Start </a> </li> <li class=md-nav__item> <a href=../../../integrations/indexers/sqd/erc20-transfers/ class=md-nav__link> Index ERC-20 Transfers </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../integrations/oracles/ >Oracles</a> <label for=__nav_2_5_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_4_3> <span class="md-nav__icon md-icon"></span> Oracles </label> <ul class="md-nav__list builders-toolkit-integrations-oracles-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../integrations/oracles/acurast/ class=md-nav__link> Price Feeds with Acurast </a> </li> <li class=md-nav__item> <a href=../../../integrations/oracles/band/ class=md-nav__link> Price Feeds with Band Protocol </a> </li> <li class=md-nav__item> <a href=../../../integrations/oracles/phala/ class=md-nav__link> Price Feeds with Phala </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../integrations/wallet-integrations/ >Wallets</a> <label for=__nav_2_5_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_5_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5_4_4> <span class="md-nav__icon md-icon"></span> Wallets </label> <ul class="md-nav__list builders-toolkit-integrations-wallet-integrations-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../integrations/wallet-integrations/rainbowkit/ class=md-nav__link> Rainbowkit </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <div class="md-nav__link md-nav__link--index "> <a href=../../../../account-management/ >Account Management</a> <label for=__nav_2_6> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Account Management </label> <ul class="md-nav__list builders-account-management-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../account-management/proxy-accounts/ class=md-nav__link> Proxy Accounts </a> </li> <li class=md-nav__item> <a href=../../../../account-management/identity/ class=md-nav__link> On-Chain Identities </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <div class="md-nav__link md-nav__link--index "> <a href=../../../../tanssi-network/ >Network Essentials</a> <label for=__nav_2_7> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Network Essentials </label> <ul class="md-nav__list builders-tanssi-network-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../tanssi-network/testnet/ >TestNet</a> <label for=__nav_2_7_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7_2> <span class="md-nav__icon md-icon"></span> TestNet </label> <ul class="md-nav__list builders-tanssi-network-testnet-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../tanssi-network/testnet/dancebox/ class=md-nav__link> Dancebox </a> </li> <li class=md-nav__item> <a href=../../../../tanssi-network/testnet/demo-evm-network/ class=md-nav__link> Demo EVM Network </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../tanssi-network/endpoints/ class=md-nav__link> Network Endpoints </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/ >Node Operators</a> <label for=__nav_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Node Operators </label> <ul class="md-nav__list node-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/network-node/ >Run a Network Node</a> <label for=__nav_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Run a Network Node </label> <ul class="md-nav__list node-operators-network-node-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/network-node/rpc-docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/network-node/rpc-systemd/ class=md-nav__link> Using Systemd </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/ >Sequencers</a> <label for=__nav_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Sequencers </label> <ul class="md-nav__list node-operators-sequencers-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/onboarding/ >Onboarding</a> <label for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Onboarding </label> <ul class="md-nav__list node-operators-sequencers-onboarding-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/onboarding/run-a-sequencer/ >Run a Sequencer</a> <label for=__nav_3_3_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_2_2> <span class="md-nav__icon md-icon"></span> Run a Sequencer </label> <ul class="md-nav__list node-operators-sequencers-onboarding-run-a-sequencer-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/onboarding/run-a-sequencer/sequencers-docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/onboarding/run-a-sequencer/sequencers-systemd/ class=md-nav__link> Using Systemd </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/onboarding/account-setup/ class=md-nav__link> Set Up Your Account </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/operational-tasks/ >Operational Tasks</a> <label for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> Operational Tasks </label> <ul class="md-nav__list node-operators-sequencers-operational-tasks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/operational-tasks/upgrade-your-node/ >Upgrade Your Node</a> <label for=__nav_3_3_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_3_2> <span class="md-nav__icon md-icon"></span> Upgrade Your Node </label> <ul class="md-nav__list node-operators-sequencers-operational-tasks-upgrade-your-node-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/operational-tasks/upgrade-your-node/upgrade-docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/operational-tasks/upgrade-your-node/upgrade-systemd/ class=md-nav__link> Using Systemd </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/operational-tasks/proxy-accounts/ class=md-nav__link> Use a Proxy Account </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/sequencers/offboarding/ >Offboarding</a> <label for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> Offboarding </label> <ul class="md-nav__list node-operators-sequencers-offboarding-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/sequencers/offboarding/account/ class=md-nav__link> Decommission Your Account </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/operators/ >Operators</a> <label for=__nav_3_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Operators </label> <ul class="md-nav__list node-operators-operators-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/operators/onboarding/ >Onboarding</a> <label for=__nav_3_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_2> <span class="md-nav__icon md-icon"></span> Onboarding </label> <ul class="md-nav__list node-operators-operators-onboarding-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_2_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/operators/onboarding/run-an-operator/ >Run an Operator</a> <label for=__nav_3_4_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_2_2> <span class="md-nav__icon md-icon"></span> Run an Operator </label> <ul class="md-nav__list node-operators-operators-onboarding-run-an-operator-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/operators/onboarding/run-an-operator/operators-docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/onboarding/run-an-operator/operators-systemd/ class=md-nav__link> Using Systemd </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/onboarding/register-in-symbiotic/ class=md-nav__link> Register in Symbiotic </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/onboarding/opt-in-to-tanssi/ class=md-nav__link> Opt In to Tanssi </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/onboarding/account-setup/ class=md-nav__link> Set Up Your Account </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/operators/operational-tasks/ >Operational Tasks</a> <label for=__nav_3_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_3> <span class="md-nav__icon md-icon"></span> Operational Tasks </label> <ul class="md-nav__list node-operators-operators-operational-tasks-" data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4_3_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../node-operators/operators/operational-tasks/upgrade-your-node/ >Upgrade Your Node</a> <label for=__nav_3_4_3_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_4_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4_3_2> <span class="md-nav__icon md-icon"></span> Upgrade Your Node </label> <ul class="md-nav__list node-operators-operators-operational-tasks-upgrade-your-node-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../node-operators/operators/operational-tasks/upgrade-your-node/upgrade-docker/ class=md-nav__link> Using Docker </a> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/operational-tasks/upgrade-your-node/upgrade-systemd/ class=md-nav__link> Using Systemd </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../node-operators/operators/operational-tasks/proxy-accounts/ class=md-nav__link> Set Up a Proxy Account </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/ >Learn</a> <label for=__nav_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Learn </label> <ul class="md-nav__list learn-" data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/tanssi/ >Introduction to Tanssi</a> <label for=__nav_4_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Introduction to Tanssi </label> <ul class="md-nav__list learn-tanssi-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/tanssi/overview/ class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/tanssi/network-services/ >Network Services</a> <label for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Network Services </label> <ul class="md-nav__list learn-tanssi-network-services-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/tanssi/network-services/block-production/ class=md-nav__link> Block Production </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/tanssi/external-security-providers/ >External Security Providers</a> <label for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_4> <span class="md-nav__icon md-icon"></span> External Security Providers </label> <ul class="md-nav__list learn-tanssi-external-security-providers-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/tanssi/external-security-providers/symbiotic/ class=md-nav__link> Ethereum with Symbiotic </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_5> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/tanssi/network-features/ >Network Features</a> <label for=__nav_4_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_5> <span class="md-nav__icon md-icon"></span> Network Features </label> <ul class="md-nav__list learn-tanssi-network-features-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/tanssi/network-features/staking/ class=md-nav__link> Staking for Block Production </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/framework/ >Network Development Framework</a> <label for=__nav_4_3> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Network Development Framework </label> <ul class="md-nav__list learn-framework-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/framework/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../learn/framework/architecture/ class=md-nav__link> Framework Architecture </a> </li> <li class=md-nav__item> <a href=../../../../../learn/framework/modules/ class=md-nav__link> Modularity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <div class="md-nav__link md-nav__link--index "> <a href=../../../../../learn/decentralized-networks/ >Tanssi-Powered Networks</a> <label for=__nav_4_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Tanssi-Powered Networks </label> <ul class="md-nav__list learn-decentralized-networks-" data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../learn/decentralized-networks/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../learn/decentralized-networks/included-templates/ class=md-nav__link> Included Templates </a> </li> <li class=md-nav__item> <a href=../../../../../learn/decentralized-networks/runtime-features/ class=md-nav__link> Core Runtime Features </a> </li> <li class=md-nav__item> <a href=../../../../../learn/decentralized-networks/tx-fees/ class=md-nav__link> Transaction Fees </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://www.tanssi.network/ class=md-nav__link> About Tanssi </a> </li> <li class=md-nav__item> <a href=https://apps.tanssi.network/dancebox class=md-nav__link> Tanssi TestNet </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=Sections> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Sections </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#the-batch-interface class=md-nav__link> <span class=md-ellipsis> The Batch Solidity Interface </span> </a> </li> <li class=md-nav__item> <a href=#interact-with-the-solidity-interface class=md-nav__link> <span class=md-ellipsis> Interact with the Solidity Interface </span> </a> <nav class=md-nav aria-label="Interact with the Solidity Interface"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#checking-prerequisites class=md-nav__link> <span class=md-ellipsis> Checking Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#example-contract class=md-nav__link> <span class=md-ellipsis> Example Contract </span> </a> </li> <li class=md-nav__item> <a href=#remix-set-up class=md-nav__link> <span class=md-ellipsis> Remix Set Up </span> </a> </li> <li class=md-nav__item> <a href=#compile-the-contract class=md-nav__link> <span class=md-ellipsis> Compile the Contract </span> </a> </li> <li class=md-nav__item> <a href=#access-the-precompile class=md-nav__link> <span class=md-ellipsis> Access the Precompile </span> </a> </li> <li class=md-nav__item> <a href=#deploy-example-contract class=md-nav__link> <span class=md-ellipsis> Deploy Example Contract </span> </a> </li> <li class=md-nav__item> <a href=#send-native-currency-via-precompile class=md-nav__link> <span class=md-ellipsis> Send Native Currency via Precompile </span> </a> </li> <li class=md-nav__item> <a href=#find-a-contract-interactions-call-data class=md-nav__link> <span class=md-ellipsis> Find a Contract Interaction's Call Data </span> </a> </li> <li class=md-nav__item> <a href=#function-interaction-via-precompile class=md-nav__link> <span class=md-ellipsis> Function Interaction via Precompile </span> </a> </li> <li class=md-nav__item> <a href=#combining-subtransactions class=md-nav__link> <span class=md-ellipsis> Combining Subtransactions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ethereum-development-libraries class=md-nav__link> <span class=md-ellipsis> Ethereum Development Libraries </span> </a> </li> </ul> </nav> </div><div class=feedback-actions-container><div class=feedback-section> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by submitting <a href="https://github.com/moondance-labs/tanssi-docs/issues/new/?title=[Feedback]+Batch%20Precompile+-+/builders/toolkit/ethereum-api/precompiles/batch/" target=_blank rel=noopener>additional feedback</a>. </div> </div> </div> </fieldset> <div class=divider></div></form> </div><div class=edit-section> <a href=https://github.com/moondance-labs/tanssi-docs/edit/main/builders/toolkit/ethereum-api/precompiles/batch.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg> Edit this page </a> </div> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset "> <h1 id=interacting-with-the-batch-precompile>Interacting with the Batch Precompile<a class=headerlink href=#interacting-with-the-batch-precompile title="Permanent link">&para;</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>The Batch Precompile contract on Tanssi-powered EVM networks allows developers to combine multiple EVM calls into one.</p> <p>Currently, having users interact with multiple contracts would require multiple transaction confirmations in the user's wallet. An example would be approving a smart contract's access to a token and then immediately transferring it. With the Batch Precompile, developers can enhance user experience with batched transactions as it minimizes the number of transactions a user is required to confirm. Additionally, the gas fees paid by a user can be reduced since batching avoids multiple base gas fees (the initial 21000 units of gas spent to begin a transaction).</p> <p>The precompile interacts directly with <a href=https://polkadot-evm.github.io/frontier target=_blank>Substrate's EVM pallet</a>. The caller of the batch function will have their address act as the <code>msg.sender</code> for all subtransactions, but unlike <a href=https://docs.soliditylang.org/en/v0.8.15/introduction-to-smart-contracts.html#delegatecall-callcode-and-libraries target=_blank>delegate calls</a>, the target contract will still affect its own storage. It is effectively the same as if the user signed multiple transactions but with only one confirmation.</p> <p>The Batch Precompile is located at the following address:</p> <div class=highlight><pre><span></span><code>0x0000000000000000000000000000000000000801
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>There can be some unintended consequences when using precompiles. Tanssi's precompiles are derived from Moonbeam's, and as such, please familiarize yourself with <a href=https://docs.moonbeam.network/builders/get-started/eth-compare/security target=_blank>Moonbeam's Precompile Security Considerations</a>.</p> </div> <h2 id=the-batch-interface>The Batch Solidity Interface<a class=headerlink href=#the-batch-interface title="Permanent link">&para;</a></h2> <p><a href=https://github.com/moondance-labs/tanssi/blob/master/test/contracts/solidity/Batch.sol target=_blank><code>Batch.sol</code></a> is a Solidity interface that allows developers to interact with the precompile's three methods.</p> <details class=code> <summary>Batch.sol</summary> <div class=highlight><pre><span></span><code><span class=c1>// SPDX-License-Identifier: GPL-3.0-only</span>
<span class=k>pragma solidity</span><span class=w> </span><span class=o>&gt;=</span><span class=k>0.8.3</span><span class=p>;</span>

<span class=c1>/// @dev The Batch contract&#39;s address.</span>
<span class=kt>address</span><span class=w> </span><span class=nv>constant</span><span class=w> </span>BATCH_ADDRESS<span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x0000000000000000000000000000000000000801</span><span class=p>;</span>

<span class=c1>/// @dev The Batch contract&#39;s instance.</span>
Batch<span class=w> </span><span class=kt>constant</span><span class=w> </span>BATCH_CONTRACT<span class=w> </span><span class=o>=</span><span class=w> </span>Batch<span class=p>(</span>BATCH_ADDRESS<span class=p>);</span>

<span class=c1>/// @author The Moonbeam Team</span>
<span class=c1>/// @title Batch precompile</span>
<span class=c1>/// @dev Allows to perform multiple calls throught one call to the precompile.</span>
<span class=c1>/// Can be used by EOA to do multiple calls in a single transaction.</span>
<span class=c1>/// @custom:address 0x0000000000000000000000000000000000000801</span>
interface<span class=w> </span>Batch<span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=c1>/// @dev Batch multiple calls into a single transaction.</span>
<span class=w>    </span><span class=c1>/// All calls are performed from the address calling this precompile.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// In case of one subcall reverting following subcalls will still be attempted.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// @param to List of addresses to call.</span>
<span class=w>    </span><span class=c1>/// @param value List of values for each subcall. If array is shorter than &quot;to&quot; then additional</span>
<span class=w>    </span><span class=c1>/// calls will be performed with a value of 0.</span>
<span class=w>    </span><span class=c1>/// @param callData Call data for each `to` address. If array is shorter than &quot;to&quot; then</span>
<span class=w>    </span><span class=c1>/// additional calls will be performed with an empty call data.</span>
<span class=w>    </span><span class=c1>/// @param gasLimit Gas limit for each `to` address. Use 0 to forward all the remaining gas.</span>
<span class=w>    </span><span class=c1>/// If array is shorter than &quot;to&quot; then the remaining gas available will be used.</span>
<span class=w>    </span><span class=c1>/// @custom:selector 79df4b9c</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>batchSome</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>to<span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>value<span class=p>,</span>
<span class=w>        </span><span class=kt>bytes</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>callData<span class=p>,</span>
<span class=w>        </span><span class=kt>uint64</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>gasLimit
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Batch multiple calls into a single transaction.</span>
<span class=w>    </span><span class=c1>/// All calls are performed from the address calling this precompile.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// In case of one subcall reverting, no more subcalls will be executed but</span>
<span class=w>    </span><span class=c1>/// the batch transaction will succeed. Use batchAll to revert on any subcall revert.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// @param to List of addresses to call.</span>
<span class=w>    </span><span class=c1>/// @param value List of values for each subcall. If array is shorter than &quot;to&quot; then additional</span>
<span class=w>    </span><span class=c1>/// calls will be performed with a value of 0.</span>
<span class=w>    </span><span class=c1>/// @param callData Call data for each `to` address. If array is shorter than &quot;to&quot; then</span>
<span class=w>    </span><span class=c1>/// additional calls will be performed with an empty call data.</span>
<span class=w>    </span><span class=c1>/// @param gasLimit Gas limit for each `to` address. Use 0 to forward all the remaining gas.</span>
<span class=w>    </span><span class=c1>/// If array is shorter than &quot;to&quot; then the remaining gas available will be used.</span>
<span class=w>    </span><span class=c1>/// @custom:selector cf0491c7</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>batchSomeUntilFailure</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>to<span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>value<span class=p>,</span>
<span class=w>        </span><span class=kt>bytes</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>callData<span class=p>,</span>
<span class=w>        </span><span class=kt>uint64</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>gasLimit
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// @dev Batch multiple calls into a single transaction.</span>
<span class=w>    </span><span class=c1>/// All calls are performed from the address calling this precompile.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// In case of one subcall reverting, the entire batch will revert.</span>
<span class=w>    </span><span class=c1>///</span>
<span class=w>    </span><span class=c1>/// @param to List of addresses to call.</span>
<span class=w>    </span><span class=c1>/// @param value List of values for each subcall. If array is shorter than &quot;to&quot; then additional</span>
<span class=w>    </span><span class=c1>/// calls will be performed with a value of 0.</span>
<span class=w>    </span><span class=c1>/// @param callData Call data for each `to` address. If array is shorter than &quot;to&quot; then</span>
<span class=w>    </span><span class=c1>/// additional calls will be performed with an empty call data.</span>
<span class=w>    </span><span class=c1>/// @param gasLimit Gas limit for each `to` address. Use 0 to forward all the remaining gas.</span>
<span class=w>    </span><span class=c1>/// If array is shorter than &quot;to&quot; then the remaining gas available will be used.</span>
<span class=w>    </span><span class=c1>/// @custom:selector 96e292b8</span>
<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>batchAll</span><span class=p>(</span>
<span class=w>        </span><span class=kt>address</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>to<span class=p>,</span>
<span class=w>        </span><span class=kt>uint256</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>value<span class=p>,</span>
<span class=w>        </span><span class=kt>bytes</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>callData<span class=p>,</span>
<span class=w>        </span><span class=kt>uint64</span><span class=p>[]</span><span class=w> </span><span class=kt>memory</span><span class=w> </span>gasLimit
<span class=w>    </span><span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=p>;</span>

<span class=w>    </span><span class=c1>/// Emitted when a subcall succeeds.</span>
<span class=w>    </span><span class=kt>event</span><span class=w> </span><span class=nv>SubcallSucceeded</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>index</span><span class=p>);</span>

<span class=w>    </span><span class=c1>/// Emitted when a subcall fails.</span>
<span class=w>    </span><span class=kt>event</span><span class=w> </span><span class=nv>SubcallFailed</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>index</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> </details> <p>The interface includes the following functions:</p> <details class=function open=open> <summary><strong>batchSome</strong>(<em>address[]</em> to, <em>uint256[]</em> value, <em>bytes[]</em> callData, <em>uint64[]</em> gasLimit)  performs multiple calls, where the same index of each array combine into the information required for a single subcall. If a subcall reverts, following subcalls will still be attempted</summary> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Parameters</label></div> <div class=tabbed-content> <div class=tabbed-block> <ul> <li><code>to</code> - an array of addresses to direct subtransactions to, where each entry is a subtransaction</li> <li><code>value</code> - an array of native currency values to send in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all the following subtransactions will default to a value of 0</li> <li><code>callData</code> - an array of call data to include in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all of the following subtransactions will include no call data</li> <li><code>gasLimit</code> - an array of gas limits in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. Values of 0 are interpreted as unlimited and will have all remaining gas of the batch transaction forwarded. If this array is shorter than the <em>to</em> array, all of the following subtransactions will have all remaining gas forwarded</li> </ul> </div> </div> </div> </details> <details class=function> <summary><strong>batchSomeUntilFailure</strong>(<em>address[]</em> to, <em>uint256[]</em> value, <em>bytes[]</em> callData, <em>uint64[]</em> gasLimit)  performs multiple calls, where the same index of each array combine into the information required for a single subcall. If a subcall reverts, no following subcalls will be executed</summary> <div class="tabbed-set tabbed-alternate" data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Parameters</label></div> <div class=tabbed-content> <div class=tabbed-block> <ul> <li><code>to</code> - an array of addresses to direct subtransactions to, where each entry is a subtransaction</li> <li><code>value</code> - an array of native currency values to send in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all the following subtransactions will default to a value of 0</li> <li><code>callData</code> - an array of call data to include in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all of the following subtransactions will include no call data</li> <li><code>gasLimit</code> - an array of gas limits in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. Values of 0 are interpreted as unlimited and will have all remaining gas of the batch transaction forwarded. If this array is shorter than the <em>to</em> array, all of the following subtransactions will have all remaining gas forwarded</li> </ul> </div> </div> </div> </details> <details class=function> <summary><strong>batchAll</strong>(<em>address[]</em> to, <em>uint256[]</em> value, <em>bytes[]</em> callData, <em>uint64[]</em> gasLimit)  performs multiple calls atomically, where the same index of each array combine into the information required for a single subcall. If a subcall reverts, all subcalls will revert</summary> <div class="tabbed-set tabbed-alternate" data-tabs=3:1><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Parameters</label></div> <div class=tabbed-content> <div class=tabbed-block> <ul> <li><code>to</code> - an array of addresses to direct subtransactions to, where each entry is a subtransaction</li> <li><code>value</code> - an array of native currency values to send in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all the following subtransactions will default to a value of 0</li> <li><code>callData</code> - an array of call data to include in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. If this array is shorter than the <em>to</em> array, all of the following subtransactions will include no call data</li> <li><code>gasLimit</code> - an array of gas limits in the subtransactions, where the index corresponds to the subtransaction of the same index in the <em>to</em> array. Values of 0 are interpreted as unlimited and will have all remaining gas of the batch transaction forwarded. If this array is shorter than the <em>to</em> array, all of the following subtransactions will have all remaining gas forwarded</li> </ul> </div> </div> </div> </details> <p>The interface also includes the following required events:</p> <ul> <li><strong>SubcallSucceeded</strong>(<em>uint256</em> index) - emitted when a subcall of the given index succeeds</li> <li><strong>SubcallFailed</strong>(<em>uint256</em> index) - emitted when a subcall of the given index fails</li> </ul> <h2 id=interact-with-the-solidity-interface>Interact with the Solidity Interface<a class=headerlink href=#interact-with-the-solidity-interface title="Permanent link">&para;</a></h2> <h3 id=checking-prerequisites>Checking Prerequisites<a class=headerlink href=#checking-prerequisites title="Permanent link">&para;</a></h3> <p>To follow along with this tutorial, you will need to have your wallet configured to work with your EVM network and an account funded with native tokens. You can add your EVM network to MetaMask with one click on the <a href=https://apps.tanssi.network target=_blank>Tanssi dApp</a>. Or, you <a href=/builders/toolkit/ethereum-api/wallets/metamask/ target=_blank>configure MetaMask for Tanssi with the demo EVM network</a>.</p> <h3 id=example-contract>Example Contract<a class=headerlink href=#example-contract title="Permanent link">&para;</a></h3> <p>The contract <code>SimpleContract.sol</code> will be used as an example of batching contract interactions, but in practice, any contract can be interacted with.</p> <div class=highlight><pre><span></span><code><span class=c1>// SPDX-License-Identifier: GPL-3.0-only</span>
<span class=k>pragma solidity</span><span class=w> </span><span class=o>&gt;=</span><span class=k>0.8.0</span><span class=p>;</span>

<span class=k>contract</span><span class=w> </span><span class=ni>SimpleContract</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=kt>mapping</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kt>string</span><span class=p>)</span><span class=w> </span><span class=kt>public</span><span class=w> </span>messages<span class=p>;</span>

<span class=w>    </span><span class=kt>function</span><span class=w> </span><span class=nv>setMessage</span><span class=p>(</span><span class=kt>uint256</span><span class=w> </span><span class=nv>id</span><span class=p>,</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=nv>calldata</span><span class=w> </span>message<span class=p>)</span><span class=w> </span><span class=kt>external</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span>messages<span class=p>[</span>id<span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span>message<span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h3 id=remix-set-up>Remix Set Up<a class=headerlink href=#remix-set-up title="Permanent link">&para;</a></h3> <p>You can interact with the Batch Precompile using <a href=https://remix.ethereum.org target=_blank>Remix</a>. You'll need a copy of <a href=https://github.com/moondance-labs/tanssi/blob/master/test/contracts/solidity/Batch.sol target=_blank><code>Batch.sol</code></a> and <code>SimpleContract.sol</code>. To add the precompile to Remix and follow along with the tutorial, you will need to:</p> <ol> <li>Click on the <strong>File explorer</strong> tab</li> <li>Paste the <code>Batch.sol</code> contract into a Remix file named <strong>Batch.sol</strong></li> <li>Paste the <code>SimpleContract.sol</code> contract into a Remix file named <strong>SimpleContract.sol</strong></li> </ol> <h3 id=compile-the-contract>Compile the Contract<a class=headerlink href=#compile-the-contract title="Permanent link">&para;</a></h3> <p>Next, you will need to compile both files in Remix:</p> <ol> <li>Make sure that you have the <strong>Batch.sol</strong> file open</li> <li>Click on the <strong>Compile</strong> tab, second from top</li> <li>To compile the contract, click on <strong>Compile Batch.sol</strong></li> </ol> <p><img alt="Compiling Batch.sol" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-1.webp></p> <p>If the interface was compiled successfully, you will see a green checkmark next to the <strong>Compile</strong> tab.</p> <h3 id=access-the-precompile>Access the Precompile<a class=headerlink href=#access-the-precompile title="Permanent link">&para;</a></h3> <p>Instead of deploying the Batch Precompile, you will access the interface given the address of the precompiled contract:</p> <ol> <li>Click on the <strong>Deploy and Run</strong> tab directly below the <strong>Compile</strong> tab in Remix. Please note that the precompiled contract is already deployed</li> <li>Make sure <strong>Injected Provider - MetaMask</strong> is selected in the <strong>ENVIRONMENT</strong> dropdown. Once you select <strong>Injected Provider - MetaMask</strong>, you might be prompted by MetaMask to connect your account to Remix</li> <li>Make sure the correct account is displayed under <strong>ACCOUNT</strong></li> <li>Ensure <strong>Batch.sol</strong> is selected in the <strong>CONTRACT</strong> dropdown. Since this is a precompiled contract, there is no need to deploy any code. Instead, we are going to provide the address of the precompile in the <strong>At Address</strong> field</li> <li>Provide the address of the Batch Precompile: <code>0x0000000000000000000000000000000000000801</code> and click <strong>At Address</strong></li> </ol> <p><img alt="Access the address" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-2.webp></p> <p>The <strong>BATCH</strong> precompile will appear in the list of <strong>Deployed Contracts</strong>.</p> <h3 id=deploy-example-contract>Deploy Example Contract<a class=headerlink href=#deploy-example-contract title="Permanent link">&para;</a></h3> <p>On the other hand, <code>SimpleContract.sol</code> will be deployed as a new contract. Before starting this section, repeat the <a href=#compile-the-contract>compilation step</a> with the <code>SimpleContract.sol</code> file.</p> <ol> <li>Click on the <strong>Deploy and Run</strong> tab directly below the <strong>Compile</strong> tab in Remix</li> <li>Make sure <strong>Injected Provider - MetaMask</strong> is selected in the <strong>ENVIRONMENT</strong> dropdown. Once you select <strong>Injected Provider - MetaMask</strong>, you might be prompted by MetaMask to connect your account to Remix</li> <li>Make sure the correct account is displayed under <strong>ACCOUNT</strong></li> <li>Ensure <strong>SimpleContract</strong> is selected in the <strong>CONTRACT</strong> dropdown</li> <li>Click <strong>Deploy</strong></li> <li>Confirm the MetaMask transaction that appears by clicking <strong>Confirm</strong></li> </ol> <p><img alt="Deploy SimpleContract" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-3.webp></p> <p>The <strong>SIMPLECONTRACT</strong> contract will appear in the list of <strong>Deployed Contracts</strong>.</p> <h3 id=send-native-currency-via-precompile>Send Native Currency via Precompile<a class=headerlink href=#send-native-currency-via-precompile title="Permanent link">&para;</a></h3> <p>Sending native currency with the Batch Precompile involves more than pressing a few buttons in Remix or MetaMask. For this example, you will be using the <strong>batchAll</strong> function to send native currency atomically.</p> <p>Transactions have a value field to specify the amount of native currency sent. In Remix, this is determined by the <strong>VALUE</strong> input in the <strong>DEPLOY &amp; RUN TRANSACTIONS</strong> tab. However, for the Batch Precompile, this data is provided within the <strong>value</strong> array input of the batch functions.</p> <p>Try transferring the native token of your network to two wallets of your choice via the Batch Precompile:</p> <ol> <li>Expand the batch contract under <strong>Deployed Contracts</strong></li> <li>Expand the <strong>batchAll</strong> function</li> <li>For the <strong>to</strong> input, insert your addresses in the following format: <code>["INSERT_ADDRESS_1", "INSERT_ADDRESS_2"]</code>, where the first address corresponds to the first wallet of your choice and the second address corresponds to the second wallet of your choice</li> <li>For the <strong>value</strong> input, insert the amount you wish to transfer in Wei for each address. For example, <code>["1000000000000000000", "2000000000000000000"]</code> will transfer 1 native token to the first address and 2 native tokens to the second address</li> <li>For <strong>callData</strong>, insert <code>[]</code>. Call data is not relevant for simply transferring the native token</li> <li>For the <strong>gasLimit</strong> inputs, insert <code>[]</code></li> <li>Press <strong>transact</strong></li> <li>Press <strong>Confirm</strong> in the MetaMask extension to confirm the transaction</li> </ol> <p><img alt="Send Batch Transfer" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-4.webp></p> <p>Once the transaction is complete, you can check both of the accounts' balances, either in MetaMask or in your network's block explorer, a link to which can be found on the <a href=https://apps.tanssi.network target=_blank>Tanssi dApp</a>. Congratulations! You've now sent a batched transfer via the Batch Precompile.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Typically if you wanted to send the native currency to or through a contract, you would have to set the value within the overall transaction object and interact with a payable function. However, since the Batch Precompile interacts directly with Substrate code, this is not a typical Ethereum transaction and is thus not necessary.</p> </div> <h3 id=find-a-contract-interactions-call-data>Find a Contract Interaction's Call Data<a class=headerlink href=#find-a-contract-interactions-call-data title="Permanent link">&para;</a></h3> <p>Visual interfaces like <a href=/builders/toolkit/ethereum-api/dev-env/remix/ target=_blank>Remix</a> and handy libraries like <a href=/builders/toolkit/ethereum-api/libraries/ethersjs/ target=_blank>Ethers.js</a> hide the way that Ethereum transactions interact with Solidity smart contracts. The name and input types of a function are hashed into a <a href=https://docs.soliditylang.org/en/latest/abi-spec.html#function-selector-and-argument-encoding target=_blank>function selector</a> and the input data is encoded. These two pieces are then combined and sent as the transaction's call data. To send a subtransaction within a batch transaction, the sender needs to know its call data beforehand.</p> <p>Try finding a transaction's call data using Remix:</p> <ol> <li>Expand the <code>SimpleContract.sol</code> contract under <strong>Deployed Contracts</strong></li> <li>Expand the <strong>setMessage</strong> function</li> <li>Enter the desired <strong>id</strong>, such as <code>1</code></li> <li>Enter the desired <strong>message</strong>, such as <code>"tanssi"</code></li> <li>Instead of sending the transaction, click the copy button next to the <strong>transact</strong> button to copy the call data</li> </ol> <p><img alt="Transaction Call Data" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-5.webp></p> <p>Now you have the transaction's call data! Considering the example values of <code>1</code> and <code>"tanssi"</code>, we can keep an eye out for their encoded values in the call data:</p> <div class=highlight><pre><span></span><code>0x648345c8                                                        // function selector
0000000000000000000000000000000000000000000000000000000000000001  // 1 id
0000000000000000000000000000000000000000000000000000000000000040  // 32 byte offset
000000000000000000000000000000000000000000000000000000000000000   // 32 byte length
674616e7373690000000000000000000000000000000000000000000000000000 // &quot;tanssi&quot; in bytes
</code></pre></div> <p>The call data can be broken into five lines where:</p> <ul> <li>The first line is the function selector</li> <li>The second line is equal to 1, which is the <strong>id</strong> that was provided</li> <li>What's left involves the <strong>message</strong> input. These last three lines are tricky since strings are a <a href=https://docs.soliditylang.org/en/v0.8.15/abi-spec.html#use-of-dynamic-types target=_blank>dynamic type</a> with a dynamic length. The third line refers to an offset to define where the string's data starts. The fourth line refers to the length of the message in the following line, which is 32 bytes total - the "tanssi" message plus padding</li> </ul> <p>You can repeat the above steps to capture the call data for values of <code>2</code> and <code>"hello"</code> such that multiple subcalls can be submitted atomically with the Batch Precompile in the next section. </p> <h3 id=function-interaction-via-precompile>Function Interaction via Precompile<a class=headerlink href=#function-interaction-via-precompile title="Permanent link">&para;</a></h3> <p>This section's example will be using the <strong>batchAll</strong> function that will ensure the transactions are resolved atomically. Keep in mind that there are also two other batch functions that can either continue subtransactions despite errors or halt subsequent subtransactions but not revert previous ones.</p> <p>Interacting with a function is very similar to <a href=#send-native-currency-via-precompile>sending a native currency</a>, since they are both transactions. However, call data is required to provide input to functions properly and a sender may desire to limit the amount of gas spent in each subtransaction.</p> <p>The <code>callData</code> and <code>gasLimit</code> fields are more relevant for subtransactions that interact with contracts. For each function in the batch interface, the <code>callData</code> input is an array where each index corresponds to the call data for each recipient of the subtransaction, that is, each <code>to</code> input. If the size of the <code>callData</code> array is less than the <code>to</code> array, the remaining subtransactions will have no call data (functions with no inputs). The <code>gasLimit</code> input is an array that corresponds to the amount of gas that each can spend for each subtransaction. If its value at an index is 0 or the index is the size of the array or greater (and smaller than the <code>to</code> array's size), all of the remaining gas from the previous subtransaction is forwarded.</p> <p>To use the precompile to send an atomic batch transaction combining two contract interactions, take the following steps:</p> <ol> <li>Copy the <code>SimpleContract.sol</code> contract's address with the copy button on the right side of its header. Be sure also to have the <a href=#find-a-contract-interactions-call-data>call data from the previous section</a></li> <li>Expand the batch contract under <strong>Deployed Contracts</strong></li> <li>Expand the <strong>batchAll</strong> function</li> <li>For the <strong>to</strong> input, paste the address <code>SimpleContract.sol</code> as follows: <code>["INSERT_SIMPLE_CONTRACT_ADDRESS","INSERT_SIMPLE_CONTRACT_ADDRESS"]</code>. Note that you'll need to repeat the address for as many transactions you are batching together, even if the contract address is the same</li> <li>For the value input, since <code>SimpleContract.sol</code> does not require any native currency to be paid to it, insert <code>[0,0]</code> for 0 Wei</li> <li>For the <strong>callData</strong> input, insert your call data from the previous section in the following format: <code>["INSERT_FIRST_CALL_DATA","INSERT_SECOND_CALL_DATA"]</code></li> <li>For the <strong>gasLimit</strong> input, insert <code>[]</code>. You can put in a gas limit value for each subcall, or leave it as an empty array</li> <li>Press <strong>transact</strong></li> <li>Press <strong>Confirm</strong> in the MetaMask extension to confirm the transaction</li> </ol> <p><img alt="Batch Function Interaction" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-6.webp></p> <p>If you used the same call data as the tutorial, you can check to make sure that the transaction has been successful as follows:</p> <ol> <li>Expand the <code>SimpleContract.sol</code> contract under <strong>Deployed Contracts</strong></li> <li>To the right of the <strong>messages</strong> button, insert <code>1</code></li> <li>Press the blue <strong>messages</strong> button</li> </ol> <p><img alt="SimpleContract Confirmation" src=/images/builders/toolkit/ethereum-api/precompiles/batch/batch-7.webp></p> <p>The phrase <strong>"tanssi"</strong> should appear underneath it. You can repeat the above steps with an id of "2", and you should see <strong>"hello"</strong>. Congratulations! You have interacted with a function with the Batch Precompile.</p> <h3 combining-subtransactions=combining-subtransactions id=combining-subtransactions>Combining Subtransactions<a class=headerlink href=#combining-subtransactions title="Permanent link">&para;</a></h3> <p>So far, transferring native currency and interacting with functions have been separate, but they can be intertwined.</p> <p>The following four strings can be combined as inputs for a batch transaction. They will send 1 native token to the public Gerald (<code>0x6Be02d1d3665660d22FF9624b7BE0551ee1Ac91b</code>) account and interact with a predeployed <code>SimpleContract.sol</code> contract twice. Here is a break-down:</p> <p>There are three subtransactions which correspond to three addresses in the <code>to</code> input array. The first is the public Gerald account and the following two are a <code>SimpleContract.sol</code> contract. You can replace the last two with your own instance of <code>SimpleContract.sol</code> if you wish. Or, replace only one: you can interact with multiple contracts in a single message.</p> <div class=highlight><pre><span></span><code>[
  &quot;0x6Be02d1d3665660d22FF9624b7BE0551ee1Ac91b&quot;,
  &quot;0xd14b70a55F6cBAc06d4FA49b99be0370D0e1BD39&quot;, 
  &quot;0xd14b70a55F6cBAc06d4FA49b99be0370D0e1BD39&quot;
]
</code></pre></div> <p>There will also be three values for the <code>value</code> array. The first address in the <code>to</code> input array indicates <code>1000000000000000000</code> wei or <code>1</code> UNIT of the native token. Remember that the native tokens of Tanssi-powered EVM networks have <a href=https://eth-converter.com target=_blank>18 decimal points just like Ethereum</a>. The following two values are <code>0</code> because the function that their subtransactions are interacting with does not accept or require native currency. </p> <div class=highlight><pre><span></span><code>[&quot;1000000000000000000&quot;, &quot;0&quot;, &quot;0&quot;]
</code></pre></div> <p>You will need three values for the <code>callData</code> array. Since transferring native currency does not require call data, the string is simply blank. The second and third values in the array correspond to invocations of <strong>setMessage</strong> that set messages to IDs 5 and 6.</p> <div class=highlight><pre><span></span><code>[
  &quot;0x&quot;, 
  &quot;0x648345c8000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000009796f752061726520610000000000000000000000000000000000000000000000&quot;, 
  &quot;0x648345c800000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000e61206d6f6f6e6265616d2070726f000000000000000000000000000000000000&quot;
]
</code></pre></div> <p>The final input is for <code>gas_input</code>. This array will be left empty to forward all remaining gas to each subtransaction.</p> <div class=highlight><pre><span></span><code>[]
</code></pre></div> <p>Try sending a batched transaction with these inputs in Remix the same way <a href=#function-interaction-via-precompile>you batched a function call</a>.</p> <p>And that's it! You've successfully interacted with the ERC-20 precompile using MetaMask and Remix!</p> <h2 id=ethereum-development-libraries>Ethereum Development Libraries<a class=headerlink href=#ethereum-development-libraries title="Permanent link">&para;</a></h2> <p>If you have followed the <a href=/builders/toolkit/ethereum-api/libraries/ethersjs/ target=_blank>Ethers.js tutorial</a>, you may find it difficult to find the call data for a function. The answer is hidden within Ether's <code>Interface</code> object, where the <a href=https://docs.ethers.org/v6/api/abi/#Interface-encodeFunctionData target=_blank>encodeFunctionData</a> function allows you to input your function name and inputs to receive the resultant call data. <a href=/builders/toolkit/ethereum-api/libraries/web3js/ target=_blank>Web3.js</a> has a similar function, <a href=https://web3js.readthedocs.io/en/v1.2.11/web3-eth-abi.html#encodefunctioncall target=_blank>encodeFunctionCall</a>.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The code snippets presented in the following sections are not meant for production environments. Please make sure you adapt it for each use case.</p> </div> <div class="tabbed-set tabbed-alternate" data-tabs=4:3><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Ethers.js</label><label for=__tabbed_4_2>Web3.js</label><label for=__tabbed_4_3>Web3.py</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Import the contract ABI</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>abi</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./INSERT_ABI_PATH&#39;</span><span class=p>);</span>

<span class=c1>// Use ABI to create an interface</span>
<span class=kd>const</span><span class=w> </span><span class=nx>yourContractInterface</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=ow>new</span><span class=w> </span><span class=nx>ethers</span><span class=p>.</span><span class=nx>Interface</span><span class=p>(</span><span class=nx>abi</span><span class=p>);</span>

<span class=c1>// Find call data for the setMessage function</span>
<span class=kd>const</span><span class=w> </span><span class=nx>callData</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>yourContractInterface</span><span class=p>.</span><span class=nx>encodeFunctionData</span><span class=p>(</span>
<span class=w>  </span><span class=s1>&#39;INSERT_FUNCTION_NAME&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=p>[</span>
<span class=w>    </span><span class=s1>&#39;INSERT_INPUT_1&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=s1>&#39;INSERT_INPUT_2&#39;</span><span class=p>,</span>
<span class=w>    </span><span class=c1>// ...</span>
<span class=w>  </span><span class=p>]</span>
<span class=p>);</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1>// Import the contract ABI</span>
<span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>abi</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39;./INSERT_ABI_PATH&#39;</span><span class=p>);</span>

<span class=c1>// Find call data for the setMessage function</span>
<span class=kd>const</span><span class=w> </span><span class=nx>callData</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>web3</span><span class=p>.</span><span class=nx>eth</span><span class=p>.</span><span class=nx>abi</span><span class=p>.</span><span class=nx>encodeFunctionCall</span><span class=p>(</span><span class=nx>abi</span><span class=p>,</span><span class=w> </span><span class=p>[</span>
<span class=w>  </span><span class=s1>&#39;INSERT_INPUT_1&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=s1>&#39;INSERT_INPUT_2&#39;</span><span class=p>,</span>
<span class=w>  </span><span class=c1>// ...</span>
<span class=p>]);</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=c1># Import the ABI and bytecode</span>
<span class=kn>from</span> <span class=nn>compile</span> <span class=kn>import</span> <span class=n>abi</span><span class=p>,</span> <span class=n>bytecode</span>

<span class=c1># Create contract instance</span>
<span class=n>your_contract</span> <span class=o>=</span> <span class=n>web3</span><span class=o>.</span><span class=n>eth</span><span class=o>.</span><span class=n>contract</span><span class=p>(</span><span class=n>abi</span><span class=o>=</span><span class=n>abi</span><span class=p>,</span> <span class=n>bytecode</span><span class=o>=</span><span class=n>bytecode</span><span class=p>)</span>

<span class=c1># Encode the contract call</span>
<span class=n>call_data</span> <span class=o>=</span> <span class=n>your_contract</span><span class=o>.</span><span class=n>encodeABI</span><span class=p>(</span>
    <span class=n>fn_name</span><span class=o>=</span><span class=s2>&quot;INSERT_FUNCTION_NAME&quot;</span><span class=p>,</span> <span class=n>args</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;INSERT_INPUT_1&quot;</span><span class=p>,</span> <span class=s2>&quot;INSERT_INPUT_2&quot;</span><span class=p>,</span> <span class=o>...</span><span class=p>]</span>
<span class=p>)</span>
</code></pre></div> </div> </div> </div> <p>Afterwards, you should be all set to interact with the Batch Precompile as one typically would with a contract in <a href=/builders/toolkit/ethereum-api/libraries/ethersjs/ target=_blank>Ethers</a>.</p> <div class=page-disclaimer> The information presented herein has been provided by third parties and is made available solely for general information purposes. Tanssi does not endorse any project listed and described on the Tanssi Doc Website (https://docs.tanssi.network/). Tanssi Foundation does not warrant the accuracy, completeness or usefulness of this information. Any reliance you place on such information is strictly at your own risk. Tanssi Foundation disclaims all liability and responsibility arising from any reliance placed on this information by you or by anyone who may be informed of any of its contents. All statements and/or opinions expressed in these materials are solely the responsibility of the person or entity providing those materials and do not necessarily represent the opinion of Tanssi Foundation. The information should not be construed as professional or financial advice of any kind. Advice from a suitably qualified professional should always be sought in relation to any particular matter or circumstance. The information herein may link to or integrate with other websites operated or content provided by third parties, and such other websites may link to this website. Tanssi Foundation has no control over any such other websites or their content and will have no liability arising out of or related to such websites or their content. The existence of any such link does not constitute an endorsement of such websites, the content of the websites, or the operators of the websites. These links are being provided to you only as a convenience and you release and hold Tanssi Foundation harmless from any and all liability arising from your use of this information or the information provided by any third-party website or service. </div> <div class=md-source-file> <small> <span class=source-file-label>Last update:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 20, 2024</span> <br> <span class=source-file-seperator>|</span> <span class=source-file-label>Created:</span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">January 31, 2024</span> </small> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=columns-llms-button> <button class="md-button primary copy-llms-btn" , title="Copy to clipboard"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"/></svg> llms-full.txt </button> </div> <div class=md-social> <a href=https://x.com/TanssiNetwork target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg> </a> <a href=https://t.me/tanssiofficial target=_blank rel=noopener title=Telegram class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg> </a> <a href=https://discord.gg/tanssi target=_blank rel=noopener title=Discord class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href=https://www.linkedin.com/company/tanssi target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://github.com/moondance-labs/tanssi target=_blank rel=noopener title=GitHub class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.youtube.com/@TanssiNetwork target=_blank rel=noopener title=YouTube class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> <div class=md-copyright> <div class=md-copyright__highlight>  2025 Moondance Labs. All Rights Reserved. </div> <div class=network-links> <a href=https://www.tanssi.network/privacy-policy target=_blank>Privacy Policy</a> <a href=https://www.tanssi.network/terms-of-use target=_blank>Terms of Use</a> </div> </div> <div class=papermoon> <span>Made with  by <a href=https://papermoon.io/ target=_blank>PaperMoon</a></span> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.indexes", "content.code.copy", "content.action.edit"], "search": "../../../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.d7c377c4.min.js></script> <script src=../../../../../js/externalLinkModal.min.js></script> <script src=../../../../../js/fixCreatedDate.min.js></script> <script src=../../../../../js/clipboardCopy.js></script> </body> </html>